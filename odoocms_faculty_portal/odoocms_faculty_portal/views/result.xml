<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="faculty_portal_result" name="Result">
        <t t-call="web.layout">
              <t t-set="head">
                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-js="false"/>
            </t>
            <body class="sidebar_main_swipe header_full">
                <t t-call="odoocms_faculty_portal.faculty_portal_main_layout"/>
                <div id="page_content" style="background:none;">
                    <div id="top_bar">
                        <ul id="breadcrumbs">
                            <li>
                                <a href="/faculty/profile">
                                    <i class="material-icons">home</i>
                                </a>
                            </li>
                            <li>
                                <a href="/faculty/classes">Results</a>
                            </li>
                        </ul>
                    </div>
                    <div id="page_content_inner">
                        <h3 class="heading_b uk-margin-bottom">Result Management</h3>
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-width-large-1-12">
                                    <div class="" data-uk-grid-margin="">
                                        <div class="md-card-content">
                                            <ul class="uk-tab" data-uk-tab="{connect:'#tabs_anim1', animation:'scale'}">
                                                <li class="uk-active">
                                                    <t t-if="result_classes">
                                                        <a href="#" style="color:#008744;">Active Classes (<t t-esc="result_classes[0].term_id.name"/>)
                                                        </a>
                                                    </t>
                                                    <t t-if="not result_classes">
                                                        <a href="#" style="color:#008744;">Active Classes</a>
                                                    </t>
                                                </li>
                                            </ul>
                                            <ul id="tabs_anim1" class="uk-switcher" style="padding: 0px 0px 0px 22px;">
                                                <li>
                                                    <div class="uk-grid uk-grid-width-small-1-12 uk-grid-width-medium-1-12 uk-grid-width-large-1-4 uk-margin-medium-top uk-margin-medium-bottom hierarchical_show" data-uk-grid-margin="" id="hierarchical-show" data-show-delay="280">
                                                        <t t-if="result_classes">
                                                            <t t-foreach="result_classes" t-as="result_class">
                                                                <div style="padding-left:15px;">
                                                                    <ul t-attf-class="{{color[result_class_index]}} md-color-grey-50 md-list md-list-addon md-list-right classCards">
                                                                        <li>
                                                                            <a t-attf-href="/faculty/result/view/id/{{result_class.id}}" class="md-list-addon-element">
                                                                                <i class="md-list-addon-icon material-icons md-color-grey-50" data-uk-tooltip="{pos:'top'}" title="Open class">&#xE163;</i>
                                                                            </a>
                                                                            <div class="md-list-content">
                                                                                <t t-if="len(str(result_class.name)) >= 28">
                                                                                    <span class="md-list-heading" t-esc="str(result_class.name)[:28]+'..'"></span>
                                                                                    <span class="md-list-heading" t-esc="str(result_class.primary_class_id.code)[:20]"></span>
                                                                                </t>
                                                                                <t t-if="not len(str(result_class.name)) > 28">
                                                                                    <span class="md-list-heading" t-esc="result_class.name"></span>
                                                                                    <span class="md-list-heading" t-esc="str(result_class.primary_class_id.code)[:20]"></span>
                                                                                </t>

                                                                                <span class="uk-text-small ">Course</span>
                                                                            </div>
                                                                        </li>
                                                                        <li>
                                                                            <a class="md-list-addon-element" t-attf-href="/faculty/result/configure/id/{{result_class.id}}">
                                                                                <i class="md-list-addon-icon material-icons md-color-grey-50" data-uk-tooltip="{pos:'top'}" title="Configure class">&#xE8B8;</i>
                                                                            </a>

                                                                            <div class="md-list-content">
                                                                                <span class="md-list-heading" t-esc="result_class.component.capitalize()"></span>
                                                                                <span class="uk-text-small">Class Type</span>
                                                                            </div>
                                                                        </li>
                                                                        <li>
                                                                            <div class="md-list-content">
                                                                                <t t-if="len(str(result_class.primary_class_id.department_id.name)) >= 28">
                                                                                    <span class="md-list-heading" t-esc="str(result_class.primary_class_id.department_id.name)[:28]+'..'"></span>
                                                                                </t>
                                                                                <t t-if="not len(str(result_class.primary_class_id.department_id.name)) >= 28">
                                                                                    <span class="md-list-heading" t-esc="result_class.primary_class_id.department_id.name"></span>
                                                                                </t>

                                                                                <span class="uk-text-small">Department</span>
                                                                            </div>
                                                                        </li>
                                                                        <!-- <li>
                                                                             <div class="md-list-content">
                                                                                 <span class="md-list-heading" t-esc="result_class.primary_class_id.term_id.name"></span>
                                                                                 <span class="uk-text-small">Academic Term</span>
                                                                             </div>
                                                                         </li>-->
                                                                        <li>
                                                                            <div class="md-list-content">
                                                                                <span class="md-list-heading" t-esc="result_class.primary_class_id.career_id.name"></span>
                                                                                <span class="uk-text-small">Academic Level</span>
                                                                            </div>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </t>
                                                        </t>
                                                        <t t-if="not result_classes">
                                                            <div style="padding-left:15px;">No classes configured.</div>
                                                        </t>
                                                    </div>
                                                </li>
                                                <li>
                                                    <t t-call="odoocms_faculty_portal.faculty_classtable"></t>
                                                </li>

                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    WebFontConfig = {
                    google: {
                    families: [
                    'Source+Code+Pro:400,700:latin',
                    'Roboto:400,300,500,700,400italic:latin'
                    ]
                    }
                    };
                    (function() {
                    var wf = document.createElement('script');
                    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
                    '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
                    wf.type = 'text/javascript';
                    wf.async = 'true';
                    var s = document.getElementsByTagName('script')[0];
                    s.parentNode.insertBefore(wf, s);
                    })();
                </script>
                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-css="false"/>

            </body>
        </t>
    </template>
    <template id="faculty_portal_result_confg" name="Configure Assessment">
        <t t-call="web.layout">
              <t t-set="head">
                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-js="false"/>
            </t>


            <body class="sidebar_main_swipe header_full">

                <t t-call="odoocms_faculty_portal.faculty_portal_main_layout"/>


                <div id="page_content" style="background:none;">
                    <div id="top_bar">
                        <ul id="breadcrumbs">
                            <li>
                                <a href="/faculty/profile">
                                    <i class="material-icons">home</i>
                                </a>
                            </li>
                            <li>
                                <a href="/faculty/classes">Results</a>
                            </li>
                            <li>
                                <a href="">Configure Class</a>
                            </li>

                        </ul>
                    </div>
                    <div id="page_content_inner">
                        <!--                        <h3 class="heading_b uk-margin-bottom">Assessment Configurations</h3>-->
                        <!--                        <h3 class="uk-modal-title uk-margin-bottom">Assessment Management/Configuration-->
                        <!--                                            <i class="material-icons" data-uk-tooltip="{pos:'top'}" title="Create and manage assessment">&#xE8FD;</i>-->
                        <!--                                        </h3>-->
                        <div class="md-card">
                            <div class="uk-grid">
                                <div class="uk-width-xlarge-1-2">
                                    <!--                            <h3 class="heading_a uk-margin-bottom">Hierarchical Slide</h3>-->
                                    <div class="md-card-list-wrapper">
                                        <div class="md-card-list">
                                            <ul class="">
                                                <li class=" md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                    <b>Course :</b>
                                                    <span t-esc="result_class.name"></span>


                                                    <input type="hidden" id="student_class" t-att-value="result_class.id"/>
                                                </li>
                                                <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                    <b>Course Code :</b>
                                                    <span t-esc="result_class.code"/>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>


                                </div>
                                <div class="uk-width-xlarge-1-2">
                                    <!--                            <h3 class="heading_a uk-margin-bottom">Hierarchical Slide</h3>-->
                                    <div class="md-card-list-wrapper">
                                        <div class="md-card-list">
<!--                                            <ul class="hierarchical_slide" id="hierarchical-slide">-->
                                            <ul>
                                                <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                    <b>Academic Level :</b>
                                                    <span t-esc="result_class.career_id.name"/>
                                                </li>
                                                <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                    <b>Academic Term :</b>
                                                    <span t-esc="result_class.term_id.name"/>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>


                                </div>
                            </div>
                            <div class="md-card-content">
                                <div class="" id="modal_assessments_confg">
                                    <!--  <div class="uk-modal-header">
                                          <h3 class="uk-modal-title">Assessment Management/Configuration
                                              <i class="material-icons" data-uk-tooltip="{pos:'top'}" title="Create and manage assessment">&#xE8FD;</i>
                                          </h3>
                                      </div>-->
                                    <ul class="uk-tab" data-uk-tab="{connect:'#tabs_anim2', animation:'slide-horizontal'}">
                                        <li class="uk-active">
                                            <a href="#">Assessments</a>
                                        </li>
                                        <li>
                                            <a href="#">Configure Assessment</a>
                                        </li>

                                    </ul>
                                    <ul id="tabs_anim2" class="uk-switcher uk-margin">
                                        <li>
                                            <h4 class="heading_a uk-margin-bottom">Assessments list</h4>
                                            <div class="md-card uk-margin-medium-bottom">
                                                <div class="md-card-content">
                                                    <div class="uk-overflow-container">
                                                        <form mothod="post" action="/faculty/subassessment/configure/update">
                                                            <input type="hidden" name="update_assessmt" t-att-value="result_class.id"/>
                                                            <table id="table_assessment_conf" class="uk-table uk-text-nowrap">
                                                                <thead style="background:#004979; color:white;">
                                                                    <tr>
                                                                        <th style="color:white;">Assessment Type</th>
                                                                        <th style="color:white;">Assessment Name</th>
                                                                        <th style="color:white;">Assessment Code</th>
                                                                        <th style="color:white;">Max Marks</th>
                                                                        <th style="color:white;">Weightage</th>
                                                                        <th style="color:white;">Assessment Date</th>
                                                                        <!--                                                                     <th style="color:white;">Include in GPA</th>-->
                                                                        <th style="color:white;">Student Visibility</th>

                                                                        <th style="color:white;">Actions</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody style="color:black;">
                                                                    <t t-if="len(result_class.assessment_ids) >0">
                                                                        <t t-foreach="result_class.assessment_ids" t-as="assessment">
                                                                            <tr>
                                                                                <td>
                                                                                    <span t-esc="assessment.assessment_component_id.assessment_type_name"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input class="md-input uk-form-width-small" t-attf-name="ass_name_input_{{str(assessment.id)}}" type="text" min="0" t-att-value="assessment.name" t-attf-id="ass_name_{{str(assessment.id)}}"/>

                                                                                </td>
                                                                                <td>
                                                                                    <input class="md-input uk-form-width-small" t-attf-name="ass_code_input_{{str(assessment.id)}}" type="text" min="0" t-att-value="assessment.code" t-attf-id="ass_code_{{str(assessment.id)}}"/>
                                                                                </td>
                                                                                <td>
                                                                                    <input class="md-input uk-form-width-small" t-attf-name="ass_max_marks_input_{{str(assessment.id)}}" type="number" min="0" t-att-value="assessment.max_marks" t-attf-id="ass_max_marks_{{str(assessment.id)}}"/>
                                                                                </td>
                                                                                <td>

                                                                                    <input class="md-input uk-form-width-small" t-attf-name="ass_sub_weightage_input_{{str(assessment.id)}}" type="number" min="0" t-att-value="assessment.weightage" t-attf-id="ass_sub_weightage_{{str(assessment.id)}}"/>
                                                                                    <!--                                                                            <span t-esc="assessment.assessment_component_id.weightage"/>-->
                                                                                </td>
                                                                                <td>
                                                                                    <input class="md-input uk-form-width-small" t-attf-name="classdate_{{str(assessment.id)}}" type="text" t-attf-id="classdate_{{str(assessment.id)}}" t-att-value="assessment.date_assessment" data-uk-datepicker="{format:'YYYY-MM-DD'}" required="true"/>
                                                                                </td>
                                                                                <!--                                                                         <td>-->
                                                                                <!--                                                                                <input type="checkbox" t-attf-name="include_in_gpa_{{ assessment.id }}" checked="true" t-attf-onchange="include_in_gpa({{ assessment.id }})"  data-switchery="" data-switchery-color="#7cb342"  id="switch_demo_success" />-->

                                                                                <!--                                                                            </td>-->
                                                                                <td>
                                                                                    <t t-if="assessment.is_visible">
                                                                                        <input type="checkbox" class="md-input uk-form-width-mini" t-attf-id="visibility_{{ assessment.id }}" t-attf-name="visibility_{{ assessment.id }}" t-attf-checked="{{assessment.is_visible}}" t-attf-onchange="updt_assessment({{ assessment.id }})" data-switchery="" data-switchery-size="small" id="switch_demo_small"/>
                                                                                    </t>
                                                                                    <t t-if="not assessment.is_visible">
                                                                                        <input type="checkbox" class="md-input uk-form-width-mini" t-attf-id="visibility_{{ assessment.id }}" t-attf-name="visibility_{{ assessment.id }}" t-attf-onchange="updt_assessment({{ assessment.id }})" data-switchery="" data-switchery-size="small" id="switch_demo_small"/>
                                                                                    </t>

                                                                                </td>
                                                                                <td>
                                                                                    <!--                                                                                                                        <a href="#">-->
                                                                                    <!--                                                                                                                            <i class="md-icon material-icons">&#xE254;</i>-->
                                                                                    <!--                                                                                                                        </a>-->
                                                                                    <a t-attf-onclick="updt_assessment({{ assessment.id }});">
                                                                                        <i class="md-icon material-icons">save</i>
                                                                                    </a>
                                                                                    <a t-attf-onclick="UIkit.modal.confirm('Are you sure?', function(){ del_assessment({{ assessment.id }}); });">
                                                                                        <i class="md-icon material-icons">&#xE872;</i>
                                                                                    </a>


                                                                                    <!--<a t-attf-onclick="del_assessment({{ assessment.id }});" id="" t-if="len(assessment.assessment_lines) == 0 ">
                                                                                        <i class="md-icon material-icons">&#xE872;</i>
                                                                                    </a>
                                                                                    <span t-if="len(assessment.assessment_lines) > 0 ">
                                                                                        <i class=""></i>
                                                                                    </span>-->
                                                                                    <!-- <a class="md-fab md-fab-small md-fab-accent hidden-print" href="page_user_edit.html">

                                                                                       </a>-->

                                                                                    <!--<a t-attf-onclick="updt_assessment({{ assessment.id }});" class="md-btn md-btn-mini md-btn-wave-light waves-effect waves-button waves-light" style="margin-top:-8px"> update

                                                                                    </a>-->
                                                                                </td>
                                                                            </tr>
                                                                        </t>
                                                                    </t>

                                                                    <t t-if="not len(result_class.assessment_ids) > 0">
                                                                        <tr>
                                                                            <td>No record found</td>
                                                                        </tr>
                                                                    </t>

                                                                </tbody>
                                                            </table>

                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                            <form action="" method="" id="assessment_add_form">
                                                <div class="uk-grid uk-grid-collapse">
                                                    <div class="uk-width-medium-1-12 uk-margin-small-top">
                                                        <h4 class="heading_a uk-margin-bottom">Create Assessments</h4>
                                                        <div class="parsley-row">
                                                            <select id="select_demo_2" name="ass_comp_id" required="True" class="md-input" data-uk-tooltip="{pos:'top'}" title="Select with tooltip">
                                                                <option value="">Select Assessment...</option>
                                                                <t t-foreach="result_class.assessment_component_ids" t-as="ass_comp_id">
                                                                    <option t-att-value="ass_comp_id.id">
                                                                        <t t-esc="ass_comp_id.assessment_type_name"/>
                                                                    </option>
                                                                </t>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="uk-width-medium-2-4 uk-margin-medium-top">
                                                        <div class="parsley-row">
                                                            <label>Name</label>
                                                            <input type="text" class="md-input " name="ass_name" required="true"/>
                                                        </div>
                                                    </div>
                                                    <div class="uk-width-medium-2-4 uk-margin-medium-top">
                                                        <div class="parsley-row">
                                                            <label>Code</label>
                                                            <input type="text" class="md-input" name="ass_code" required="true"/>
                                                        </div>
                                                    </div>
                                                    <div class="uk-width-medium-2-4 uk-margin-medium-top">
                                                        <div class="parsley-row">
                                                            <label>Weightage</label>
                                                            <input type="number" class="md-input" name="weightage" required="true"/>
                                                        </div>
                                                    </div>
                                                    <div class="uk-width-medium-2-4 uk-margin-medium-top">
                                                        <div class="parsley-row">
                                                            <label>Total Marks</label>
                                                            <input type="number" class="md-input" name="max_marks" required="true"/>
                                                        </div>
                                                    </div>
                                                    <div class="uk-width-medium-2-4 uk-margin-medium-top">
                                                        <div class="parsley-row">
                                                            <label>Assessment Date</label>
                                                            <input class="md-input" name="classdate" type="text" id="classdate" data-uk-datepicker="{format:'DD.MM.YYYY'}" required="true"/>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class=" uk-text-right">
                                                    <input type="hidden" name="result_class" t-att-value="result_class.id"/>
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                                    <button type="submit" id="create_assessment_button" class="md-btn uk-margin-medium-top md-btn-primary">Create</button>

                                                </div>
                                            </form>


                                        </li>
                                        <li>
                                            <!--                                                                                        <div class="uk-grid uk-grid-collapse">-->
                                            <!--                                                                                            <div class="uk-width-medium-1-3" style="margin-top:1%">-->
                                            <!--                                                                                                <div class="parsley-row">-->
                                            <!--                                                                                                    <label>Assessment Name</label>-->
                                            <!--                                                                                                    <input type="text" class="md-input" name="d_form_lname{{ counter }}" required="true"/>-->
                                            <!--                                                                                                </div>-->

                                            <!--                                                                                            </div>-->
                                            <!--                                                                                            <div class="uk-width-medium-1-3" style="margin-top:1%; margin-left:1%;">-->
                                            <!--                                                                                                <div class="parsley-row">-->
                                            <!--                                                                                                    <label>Weightage %</label>-->
                                            <!--                                                                                                    <input type="number" class="md-input" name="d_form_lname{{ counter }}" required="true"/>-->
                                            <!--                                                                                                </div>-->
                                            <!--                                                                                            </div>-->
                                            <!--                                                                                        </div>-->
                                            <!--                                                                                         <div class="uk-modal-footer uk-text-right">-->
                                            <!--                                                                                            <button type="button" class="md-btn md-btn-flat uk-modal-close">Close</button>-->
                                            <!--                                                                                            <button type="submit" class="md-btn md-btn-flat md-btn-flat-primary">Save</button>-->
                                            <!--                                                                                        </div>-->
                                            <h4 class="heading_a uk-margin-bottom">Assessments list</h4>
                                            <div class="md-card uk-margin-medium-bottom">
                                                <div class="md-card-content">
                                                    <div class="uk-overflow-container">
                                                        <form method="POST" action="/result/assessment/component/save">
                                                            <table class="uk-table uk-text-nowrap">
                                                                <thead style="background:#004979; color:white;">
                                                                    <tr>
                                                                        <th style="color:white;">Assessment Type</th>
                                                                        <th style="color:white;">Weightage %</th>
                                                                        <th style="color:white;">Weightage Range</th>

                                                                        <th style="color:white;">Actions</th>
                                                                    </tr>
                                                                </thead>

                                                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                                                <tbody style="color:black;">
                                                                    <input type="hidden" name="result_class" t-att-value="result_class.id"/>
                                                                    <t t-if="len(result_class.assessment_component_ids) > 0">
                                                                        <t t-foreach="result_class.assessment_component_ids" t-as="ass_comp_id">
                                                                            <tr>
                                                                                <td t-esc="ass_comp_id.assessment_type_name"/>
                                                                                <td>
                                                                                    <span t-esc="ass_comp_id.weightage" t-attf-id="ass_comp_weightage_{{str(ass_comp_id.id)}}"/>
                                                                                    <input onChange="updateTotal()" class="ass_comp_weightage md-input uk-form-width-small" t-attf-name="ass_comp_weightage_input_{{str(ass_comp_id.id)}}" type="number" t-att-min="ass_comp_id.min" t-att-max="ass_comp_id.max" t-att-value="ass_comp_id.weightage" t-attf-id="ass_comp_weightage_input_{{str(ass_comp_id.id)}}" style="display:none"/>
                                                                                </td>
                                                                                <td>
                                                                                    <t t-esc="ass_comp_id.min"/>
                                                                                    -
                                                                                    <t t-esc="ass_comp_id.max"/>
                                                                                </td>

                                                                                <td>
                                                                                    <a t-attf-onclick="onEditAssComp({{ass_comp_id.id}})">
                                                                                        <i class="md-icon material-icons">&#xE254;</i>
                                                                                    </a>
                                                                                    <!--                                                                                                                    <a href="#">-->
                                                                                    <!--                                                                                                                        <i class="md-icon material-icons">&#xE872;</i>-->
                                                                                    <!--                                                                                                                    </a>-->
                                                                                </td>
                                                                            </tr>
                                                                        </t>
                                                                        <tr>
                                                                            <td class="uk-text-left">Total:</td>
                                                                            <td>
                                                                                <label id="assessment_total_weightage" t-esc="result_class.assessment_template_id and result_class.assessment_template_id.total"/>
                                                                            </td>
                                                                            <td></td>
                                                                            <td></td>
                                                                        </tr>
                                                                    </t>

                                                                    <t t-if="not len(result_class.assessment_component_ids) > 0">
                                                                        <tr>
                                                                            <td>No record found</td>
                                                                        </tr>
                                                                    </t>
                                                                </tbody>

                                                            </table>
                                                            <div class=" uk-text-right">
                                                                <button type="submit" id="update_assessment_weightage_button" class="md-btn uk-margin-medium-top md-btn-primary disabled">Update</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>

                                    </ul>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </body>
        </t>
        <t t-call-assets="odoocms_web.assets_aarsol_portal" t-css="false"/>
        <script src="/odoocms_faculty_portal/static/js/custom.js"></script>
        <!--        <script src="/odoocms_web/static/assets/js/pages/components_notifications.min.js"></script>-->

        <!--  issues list functions -->


        <script src="/odoocms_web/static/bowerComponents/tablesorter/dist/js/jquery.tablesorter.min.js"></script>
        <script src="/odoocms_web/static/bowerComponents/tablesorter/dist/js/jquery.tablesorter.widgets.min.js"></script>
        <script src="/odoocms_web/static/bowerComponents/tablesorter/dist/js/widgets/widget-alignChar.min.js"></script>
        <script src="/odoocms_web/static/bowerComponents/tablesorter/dist/js/extras/jquery.tablesorter.pager.min.js"></script>
        <script src="/odoocms_web/static/assets/js/pages/pages_issues.min.js"></script>
        <!--            <script src="/odoocms_web/static/assets/js/pages/components_animations.min.js"></script>-->
        <script>
            $(function() {
            if(isHighDensity()) {
            $.getScript( "/odoocms_web/static/assets/js/custom/dense.min.js", function(data) {
            // enable hires images
            altair_helpers.retina_images();
            });
            }
            });
            $window.on('load', function() {
            // ie fixes
            altair_helpers.ie_fix();
            });
        </script>

    </template>
    <template id="faculty_portal_result_detail" name="Create Result">

        <t t-call="web.layout">
            <t t-set="head">
                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-js="false"/>
            </t>
            <body class="sidebar_main_swipe header_full">

                <t t-call="odoocms_faculty_portal.faculty_portal_main_layout"/>

                <div id="page_content">
                    <div id="top_bar">
                        <ul id="breadcrumbs">
                            <li>
                                <a href="/faculty/profile">
                                    <i class="material-icons">home</i>
                                </a>
                            </li>
                            <li>
                                <a href="/faculty/classes">Results</a>
                            </li>
                            <li>
                                <a href="">Result Class</a>
                            </li>

                        </ul>
                    </div>
                    <div id="page_content_inner">
                        <h3 class="heading_b uk-margin-bottom">Result Management</h3>
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-xlarge-1-2">
                                        <!--                            <h3 class="heading_a uk-margin-bottom">Hierarchical Slide</h3>-->
                                        <div class="md-card-list-wrapper">
                                            <div class="md-card-list">
                                                <ul class="">
                                                    <li class=" md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                        <b>Course :</b>
                                                        <span t-esc="result_class.name"></span>


                                                        <input type="hidden" id="student_class" t-att-value="result_class.id"/>
                                                    </li>
                                                    <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                        <b>Course Code :</b>
                                                        <span t-esc="result_class.code"/>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>


                                    </div>
                                    <div class="uk-width-xlarge-1-2">
                                        <!--                            <h3 class="heading_a uk-margin-bottom">Hierarchical Slide</h3>-->
                                        <div class="md-card-list-wrapper">
                                            <div class="md-card-list">
                                                <ul class="" id="">
                                                    <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                        <b>Career :</b>
                                                        <span t-esc="result_class.career_id.name"/>
                                                    </li>
                                                    <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                        <b>Academic Term :</b>
                                                        <span t-esc="result_class.term_id.name"/>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>


                                    </div>
                                </div>


                                <div class="uk-width-xlarge-1-12">
                                    <div class="md-card uk-width-xlarge-1-12">
                                        <div class="md-card-toolbar md-bg-light-blue-800">
                                            <div class="md-card-toolbar-actions md-bg-light-blue-800">

                                                <i class="md-icon material-icons md-card-fullscreen-activate md-bg-light-blue-800 md-color-white">&#xE5D0;</i>
                                                <!--                                            <i class="md-icon material-icons md-card-toggle md-color-white md-bg-light-blue-800">&#xE316;</i>-->
                                                <!--                                <i class="md-icon material-icons md-card-close">&#xE14C;</i>-->
                                            </div>
                                            <h3 class="md-card-toolbar-heading-text md-color-white">
                                                Create Result |
                                                <span t-esc="result_class.name"></span>
                                            </h3>
                                        </div>
                                        <div class="md-card-content">

                                            <form method="post" action="/faculty/class/result/save">
                                                <input type="hidden" name="result_class" t-att-value="result_class.id"/>
                                                <div class="uk-width-medium-1-2" style="margin-top:2%">
                                                    <!--                                                    <button class="md-btn" type="button" data-uk-modal="{target:'#viewdownload_results'}">View/Download</button>-->

                                                    <button type="submit" class="md-btn md-btn-primary md-btn-wave-light md-btn-icon waves-effect waves-button waves-light">
                                                        <i class="uk-icon-stethoscope"></i>
                                                        Save
                                                    </button>

                                                    <!--                                                    <a t-attf-href="/result/class/grades/create/{{result_class.id}}" class="md-btn md-btn-primary md-btn-wave-light md-btn-icon waves-effect waves-button waves-light">-->
                                                    <!--                                                        Grade Management-->
                                                    <!--                                                    </a>-->


                                                </div>
                                                <!--                                                <div class="uk-overflow-container uk-margin-bottom">-->
                                                <div class="uk-overflow-container uk-margin-bottom">
                                                    <!--                    <table class="uk-table uk-table-align-vertical uk-table-nowrap tablesorter tablesorter-altair" id="ts_issues">-->


                                                    <table id="dt_default" class="uk-table " cellspacing="0" width="100%">
                                                        <thead style="background:#004979;">
                                                            <tr>
                                                                <th class="" style="color:white;">

                                                                    <b>Student Name | ID</b>
                                                                </th>
                                                                <t t-foreach="result_class.assessment_ids" t-as="assessment">

                                                                    <th class="" style="color:white;">
                                                                        <span>
                                                                            <b t-esc="assessment.name"/>
                                                                        </span>
                                                                        <span>| M: <b t-esc="assessment.max_marks"></b>
                                                                        </span>
                                                                        <span>| W: <b t-esc="assessment.weightage"></b>
                                                                        </span>


                                                                    </th>
                                                                </t>
                                                            </tr>
                                                        </thead>

                                                        <tbody>
                                                            <t t-foreach="student_assessment_data_create" t-as="student">
                                                                <tr>
                                                                    <td class="">
                                                                        <t t-esc="student['student']"/>
                                                                        <br/>
                                                                        <t t-esc="student['id']"/>
                                                                    </td>
                                                                    <t t-foreach="student['data']" t-as="rec">
                                                                        <td class="">
                                                                            <div class="uk-width-medium-1-1">
                                                                                <t t-if="rec['obtained_marks'] == 0">
                                                                                    <input min="0" t-att-max="rec['assessment_id'].max_marks" value="0" t-attf-name="assessment_id_{{ rec['student_id'] }}_{{ rec['assessment_id'].id }}" type="number" step="0.01" class="md-input uk-form-width-medium"/>
                                                                                </t>
                                                                                <!--                                                                                <label t-attf-class="{{'md-color-orange-900' if rec['obtained_marks'] == 0 else 'md-color-green-800' }} " style="font-size:smaller;">Enter Marks Here</label> &lt;!&ndash; md-input &ndash;&gt;-->
                                                                                <t t-if="rec['obtained_marks'] > 0">

                                                                                    <input min="0" t-att-max="rec['assessment_id'].max_marks" t-att-value="rec['obtained_marks']" t-attf-name="assessment_id_{{ rec['student_id'] }}_{{ rec['assessment_id'].id }}" type="number" step="0.01" class="md-input uk-form-width-medium"/>

                                                                                </t>
                                                                                <!--                                                                                <p t-esc="rec['obtained_marks']"></p>-->
                                                                            </div>
                                                                        </td>
                                                                    </t>
                                                                </tr>
                                                            </t>

                                                        </tbody>

                                                    </table>


                                                </div>
                                            </form>

                                            <form action="#" id="upload_result_sheet" method="POST">
                                                <input type="hidden" name="result_class" t-att-value="result_class.id" class="dropify" data-max-file-size="200K"/>
                                                <input type="file" name="assessment_sheet" id="input-file-e" class="dropify" data-max-file-size="200K"/>
                                                <button type="submit" class="md-btn md-btn-primary md-btn-wave-light md-btn-icon waves-effect waves-button waves-light">Upload</button>
                                                <a class="md-btn md-btn-primary md-btn-wave-light md-btn-icon waves-effect waves-button waves-light" t-attf-href="/download/result/sheet/template/{{result_class.id}}" widget="url" title="Download">
                                                    Download Template File
                                                </a>
                                            </form>


                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
                <div class="uk-modal uk-modal-card-fullscreen" id="viewdownload_results">
                    <div class="uk-modal-dialog uk-modal-dialog-blank">
                        <div class="md-card uk-height-viewport">
                            <div class="md-card-toolbar">

                                <span class="md-icon material-icons md-color-grey-900 uk-modal-close">&#xE5C4;</span>
                                <h3 class="md-card-toolbar-heading-text">
                                    Class Result View |
                                    <span t-esc="result_class.name"></span>
                                </h3>
                            </div>
                            <div class="md-card-content">
                                <t t-call="odoocms_faculty_portal.faculty_result_view"/>
                            </div>
                        </div>
                    </div>
                </div>

                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-css="false"/>

                <script src="/odoocms_web/static/bower_components/dropify/dist/js/dropify.min.js"></script>

                <!--  form file input functions -->
                <script src="/odoocms_web/static/assets/js/pages/forms_file_input.min.js"></script>


                <!--  issues list functions -->


                <!--            <script src="/odoocms_web/static/assets/js/pages/components_animations.min.js"></script>-->
                <script src="/odoocms_web/static/bowerComponents/datatables/media/js/jquery.dataTables.min.js"></script>
                <!-- datatables buttons-->
                <script src="/odoocms_web/static/bowerComponents/datatables-buttons/js/dataTables.buttons.js"></script>
                <script src="/odoocms_web/static/assets/js/custom/datatables/buttons.uikit.js"></script>
                <script src="/odoocms_web/static/bowerComponents/jszip/dist/jszip.js"></script>
                <script src="/odoocms_web/static/bowerComponents/pdfmake/build/pdfmake.js"></script>
                <script src="/odoocms_web/static/bowerComponents/pdfmake/build/vfs_fonts.js"></script>
                <script src="/odoocms_web/static/bowerComponents/datatables-buttons/js/buttons.colVis.js"></script>
                <script src="/odoocms_web/static/bowerComponents/datatables-buttons/js/buttons.html5.js"></script>
                <script src="/odoocms_web/static/bowerComponents/datatables-buttons/js/buttons.print.js"></script>

                <!-- datatables custom integration -->
                <script src="/odoocms_web/static/assets/js/custom/datatables/datatables.uikit.min.js"></script>

                <!--  datatables functions -->
                <script src="/odoocms_web/static/assets/js/pages/plugins_datatables.js"></script>
                <!--                <script src="/odoocms_web/static/assets/js/pages/components_notifications.min.js"></script>-->
                <script src="/odoocms_web/static/assets/js/kendoui_custom.min.js"></script>

                <!--  kendoui functions -->
                <script src="/odoocms_web/static/assets/js/pages/kendoui.min.js"></script>
                <script src="/odoocms_faculty_portal/static/js/custom.js"></script>

                <!--  <script>
                      $(document).ready(function() {
                      var table = $('#dt_default').DataTable( {
                      scrollY: "300px",
                      scrollX: true,
                      scrollCollapse: true,
                      paging: false,
                      fixedColumns: {
                      leftColumns: 1,

                      }
                      } );
                      } );
                  </script>-->
                <script>

                    $(function() {
                    if(isHighDensity()) {
                    $.getScript( "/odoocms_web/static/assets/js/custom/dense.min.js", function(data) {
                    // enable hires images
                    altair_helpers.retina_images();
                    });
                    }
                    });
                    $window.on('load', function() {
                    // ie fixes
                    altair_helpers.ie_fix();
                    });
                </script>
                <script>
                    $(document).ready(function() {
                    $("input[type=number]").on("focus", function() {
                    $(this).on("keydown", function(event) {
                    if (event.keyCode === 38 || event.keyCode === 40) {
                    event.preventDefault();
                    }
                    });
                    });

                    });
                    var blur = false;
                    $('table').on('blur', 'td select', function() {
                    if (!blur) {
                    blur = true;
                    var cell = $(this).closest('td');
                    table.cell(cell).data('example data');
                    blur = false;
                    }
                    });
                    $(document).ready(function () {

                    $('input').keyup(function (e) {
                    if (e.which == 39) { // right arrow
                    $(this).closest('td').next().find('input').focus();

                    } else if (e.which == 37) { // left arrow
                    $(this).closest('td').prev().find('input').focus();

                    } else if (e.which == 40) { // down arrow
                    $(this).closest('tr').next().find('td:eq(' + $(this).closest('td').index() + ')').find('input').focus();

                    } else if (e.which == 38) { // up arrow
                    $(this).closest('tr').prev().find('td:eq(' + $(this).closest('td').index() + ')').find('input').focus();
                    }
                    });

                    // un-comment to display key code
                    // $("input").keydown(function (e) {
                    // console.log(e.which);
                    // });
                    });
                </script>
            </body>
        </t>
    </template>
    <template id="faculty_portal_result_grade_classes" name="Result">
        <t t-call="web.layout">
             <t t-set="head">
                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-js="false"/>
            </t>


            <body class="sidebar_main_swipe header_full">

                <t t-call="odoocms_faculty_portal.faculty_portal_main_layout"/>


                <div id="page_content" style="background:none;">
                    <div id="top_bar">
                        <ul id="breadcrumbs">
                            <li>
                                <a href="/faculty/profile">
                                    <i class="material-icons">home</i>
                                </a>
                            </li>
                            <li>
                                <a href="/faculty/grade/home">Grade Classes</a>
                            </li>
                            <!--                        <li>-->
                            <!--                            <a href="">Configure Class</a>-->
                            <!--                        </li>-->

                        </ul>
                    </div>
                    <div id="page_content_inner">
                        <h3 class="heading_b uk-margin-bottom">Grades Management</h3>
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-width-large-1-12">
                                    <div class="" data-uk-grid-margin="">
                                        <div class="md-card-content">
                                            <ul class="uk-tab" data-uk-tab="{connect:'#tabs_anim1', animation:'scale'}">
                                                <li class="uk-active">
                                                    <a href="#" style="color:#008744;">Active Classes</a>
                                                </li>
                                                <!--                                                <li>-->
                                                <!--                                                    <a href="#" style="color:#d62d20;">Previous Classes</a>-->
                                                <!--                                                </li>-->

                                            </ul>
                                            <ul id="tabs_anim1" class="uk-switcher" style="padding: 0px 0px 0px 22px;">
                                                <li>
                                                    <div class="uk-grid uk-grid-width-small-1-12 uk-grid-width-medium-1-12 uk-grid-width-large-1-4 uk-margin-medium-top uk-margin-medium-bottom hierarchical_show" data-uk-grid-margin="" id="hierarchical-show" data-show-delay="280">
                                                        <t t-if="not grade_classes">
                                                            <span>Grade class is not configured against login user.</span>
                                                        </t>
                                                        <t t-if="grade_classes">
                                                            <t t-foreach="grade_classes" t-as="result_class">

                                                                <div style="padding-left:15px;">
                                                                    <ul t-attf-class="{{color[result_class_index]}} md-color-grey-50 md-list md-list-addon md-list-right classCards">
                                                                        <li>
                                                                            <a t-attf-href="/faculty/class/assign/grades/id/{{result_class.id}}" class="md-list-addon-element">
                                                                                <i class="md-list-addon-icon material-icons md-color-grey-50" data-uk-tooltip="{pos:'top'}" title="Open class">&#xE163;</i>
                                                                            </a>
                                                                            <div class="md-list-content">
                                                                                <t t-if="len(str(result_class.name)) >= 28">
                                                                                    <span class="md-list-heading" t-esc="str(result_class.name)[:28]+'..'"></span>
                                                                                </t>
                                                                                <t t-if="not len(str(result_class.name)) > 28">
                                                                                    <span class="md-list-heading" t-esc="result_class.name"></span>
                                                                                </t>
                                                                                <span class="uk-text-small ">Course</span>
                                                                            </div>
                                                                        </li>
                                                                        <li>
                                                                            <!--                                                                        <a class="md-list-addon-element" t-attf-href="/faculty/result/configure/id/{{result_class.id}}">-->
                                                                            <!--                                                                            <i class="md-list-addon-icon material-icons md-color-grey-50" data-uk-tooltip="{pos:'top'}" title="Configure class">&#xE8B8;</i>-->
                                                                            <!--                                                                        </a>-->

                                                                            <div class="md-list-content">
                                                                                <span class="md-list-heading" t-esc="str(result_class.code)[:25]"></span>
                                                                                <span class="uk-text-small">Code</span>

                                                                            </div>
                                                                        </li>

                                                                        <li>
                                                                            <div class="md-list-content">
                                                                                <t t-if="len(str(result_class.program_id.department_id.name)) >= 28">
                                                                                    <span class="md-list-heading" t-esc="str(result_class.program_id.department_id.name)[:28]+'..'"></span>
                                                                                </t>
                                                                                <t t-if="not len(str(result_class.program_id.department_id.name)) >= 28">
                                                                                    <span class="md-list-heading" t-esc="result_class.program_id.department_id.name"></span>
                                                                                </t>

                                                                                <span class="uk-text-small">Department</span>
                                                                            </div>
                                                                        </li>
                                                                        <!-- <li>
                                                                             <div class="md-list-content">
                                                                                 <span class="md-list-heading" t-esc="result_class.batch_id.term_id.name"></span>
                                                                                 <span class="uk-text-small">Academic Term</span>
                                                                             </div>
                                                                         </li>-->
                                                                        <li>
                                                                            <div class="md-list-content">
                                                                                <span class="md-list-heading" t-esc="result_class.batch_id.career_id.name"></span>
                                                                                <span class="uk-text-small">Career</span>
                                                                            </div>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </t>
                                                        </t>
                                                    </div>
                                                </li>
                                                <li>
                                                    <t t-call="odoocms_faculty_portal.faculty_classtable"></t>
                                                </li>

                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                </div>

                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-css="false"/>



                <!--  issues list functions -->


                <script src="/odoocms_web/static/bowerComponents/tablesorter/dist/js/jquery.tablesorter.min.js"></script>
                <script src="/odoocms_web/static/bowerComponents/tablesorter/dist/js/jquery.tablesorter.widgets.min.js"></script>
                <script src="/odoocms_web/static/bowerComponents/tablesorter/dist/js/widgets/widget-alignChar.min.js"></script>
                <script src="/odoocms_web/static/bowerComponents/tablesorter/dist/js/extras/jquery.tablesorter.pager.min.js"></script>
                <script src="/odoocms_web/static/assets/js/pages/pages_issues.min.js"></script>
                <!--            <script src="/odoocms_web/static/assets/js/pages/components_animations.min.js"></script>-->
                <script>
                    $(function() {
                    if(isHighDensity()) {
                    $.getScript( "/odoocms_web/static/assets/js/custom/dense.min.js", function(data) {
                    // enable hires images
                    altair_helpers.retina_images();
                    });
                    }
                    });
                    $window.on('load', function() {
                    // ie fixes
                    altair_helpers.ie_fix();
                    });
                </script>


            </body>
        </t>
    </template>
    <template id="faculty_portal_class_grades" name="Create Grades">
        <t t-call="web.layout">
            <t t-set="head">
                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-js="false"/>

                <link rel="stylesheet" href="/odoocms_faculty_portal/static/css/custom.css" media="all"/>
                <style>
                    .md-icon{
                    color:white;
                    }
                </style>
             </t>
            <body class="sidebar_main_swipe header_full">
                <t t-call="odoocms_faculty_portal.faculty_portal_main_layout"/>
                <div id="page_content">
                    <div id="top_bar">
                        <ul id="breadcrumbs">
                            <li>
                                <a href="/faculty/profile">
                                    <i class="material-icons">home</i>
                                </a>
                            </li>
                            <li>
                                <a href="/faculty/grade/home">Grade Class</a>
                            </li>
                            <li>
                                <a href="">Assign Grades</a>
                            </li>
                        </ul>
                    </div>
                    <div id="page_content_inner">
                        <h3 class="heading_b uk-margin-bottom">Grades Management</h3>
                        <div class="md-card">
                            <div class="md-card-content">
                                <div class="uk-grid">
                                    <div class="uk-width-xlarge-1-2">
                                        <!--                            <h3 class="heading_a uk-margin-bottom">Hierarchical Slide</h3>-->
                                        <div class="md-card-list-wrapper">
                                            <div class="md-card-list">
                                                <ul class="" id="">
                                                    <li class=" md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                        <b>Course :</b>
                                                        <span t-esc="grade_class.name"></span>
                                                        <input type="hidden" id="grade_class" t-att-value="grade_class.id"/>
                                                    </li>
                                                    <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                        <b>Course Code :</b>
                                                        <span t-esc="grade_class.code"/>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="uk-width-xlarge-1-2">
                                        <!--                            <h3 class="heading_a uk-margin-bottom">Hierarchical Slide</h3>-->
                                        <div class="md-card-list-wrapper">
                                            <div class="md-card-list">
                                                <ul class="" id="">
                                                    <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                        <b>Career :</b>
                                                        <span t-esc="grade_class.career_id.name"/>
                                                    </li>
                                                    <li class="md-color-blue-grey-900" style="background:none;box-shadow:none;font-size: 15px;">
                                                        <b>Academic Term :</b>
                                                        <span t-esc="grade_class.batch_id.term_id.name"/>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-grid">
                                    <div class="uk-width-large-1-12">
                                        <iframe t-att-src="link" style="border:2px solid #14421a; height:650px; width:100%;"></iframe>
                                        <!--                                      <form action="/faculty/class/submit/grades/id/">-->
<!--                                        <a  class="uk-text-small" href="/faculty/grade/home">After saving histogram click here to refresh and update marks.</a>-->

                                        <!--                                      </form>-->
                                    </div>
                                    <!--                                    grade_class.registration_ids[0].program_id.department_id.code-->
                                    <div class="uk-width-large-1-12">
                                      <!--  <div class="user_content">
                                            <ul id="user_profile_tabs" class="uk-tab" data-uk-tab="{connect:'#user_profile_tabs_content', animation:'slide-horizontal'}" data-uk-sticky="{ top: 48, media: 960 }">
                                                <li>
                                                    <a href="">Students</a>
                                                </li>
                                                <li>
                                                    <a href="">Histogram</a>
                                                </li>
                                            </ul>
                                            <ul id="user_profile_tabs_content" class="uk-switcher uk-margin">

                                                <li>
                                                    <div class="uk-overflow-container">
                                                        <table id="course_drop_table" class="uk-table uk-table-nowrap table_check">
                                                            <thead class="md-bg-blue-grey-700 ">
                                                                <tr>
                                                                    <th class="uk-width-2-10 md-color-grey-50 ">Student</th>
                                                                    <th class="uk-width-1-10  md-color-grey-50 ">Program</th>
                                                                    <th class="uk-width-1-10  md-color-grey-50 ">Academic Session</th>

                                                                    <t t-foreach="grade_class.registration_ids[0].component_ids" t-as="rec">
                                                                            <t t-if="len(rec)>0">
                                                                             <th class="uk-width-1-10  md-color-grey-50 " t-esc="rec.class_id.component.capitalize()">%</th>
                                                                        </t>
                                                                    </t>

                                                                    <th class="uk-width-1-10  md-color-grey-50 ">Total Obtained Marks</th>
                                                                    <th class="uk-width-1-10 md-color-grey-50 ">Grade</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <t t-if="len(grade_class.registration_ids) > 0">
                                                                    <t t-foreach="grade_class.registration_ids" t-as="rec">
                                                                        <tr>
                                                                            <td>
                                                                                <t t-esc="rec.student_id.code"/>
                                                                                -
                                                                                <t t-esc="rec.student_id.name"/>
                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="rec.program_id.name"/>
                                                                                -
                                                                                <t t-esc="rec.program_id.department_id.code"/>
                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="rec.session_id.name"/>
                                                                            </td>
                                                                            <t t-foreach="rec.component_ids" t-as="comp">
                                                                            <t t-if="len(comp)>0">
                                                                             <th  t-esc="comp.total_marks"></th>
                                                                        </t>
                                                                    </t>
                                                                            <td>
                                                                                <t t-esc="rec.normalized_marks"/>
                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="rec.grade"/>
                                                                            </td>
                                                                        </tr>
                                                                    </t>
                                                                </t>
                                                                <t t-if="not len(grade_class.registration_ids) > 0">
                                                                    <tr>
                                                                        <td>No record found</td>
                                                                    </tr>
                                                                </t>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="uk-overflow-container">
                                                        <table id="course_drop_table" class="uk-table uk-table-nowrap table_check">
                                                            <thead class="md-bg-blue-grey-700 ">
                                                                <tr>
                                                                    <th class="uk-width-2-10 md-color-grey-50 ">Grade Name</th>
                                                                    <th class="uk-width-1-10  md-color-grey-50 ">Per. From</th>
                                                                    <th class="uk-width-1-10  md-color-grey-50 ">Per. Below</th>
                                                                    <th class="uk-width-1-10  md-color-grey-50 ">Count</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <t t-if="len(grade_class.histo_ids) > 0">
                                                                    <t t-foreach="grade_class.histo_ids" t-as="rec">
                                                                        <tr>
                                                                            <td>
                                                                                <t t-esc="rec.name"/>
                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="rec.low_per"/>
                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="rec.high_per"/>
                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="rec.cnt"/>
                                                                            </td>

                                                                        </tr>
                                                                    </t>
                                                                </t>
                                                                <t t-if="not len(grade_class.histo_ids) > 0">
                                                                    <tr>
                                                                        <td>No record found</td>
                                                                    </tr>
                                                                </t>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>-->
                                         <t t-if="grade_class.state in ('draft','current','lock')">
                                        <button type="button" t-attf-onclick="final_result_submit( {{grade_class.id}} )" class="md-btn md-btn-primary uk-margin-small-top">Submit Result</button>
                                        </t>
                                        <t t-if="grade_class.state not in ('draft','current','lock')">
                                            <span class="uk-margin-top">Result already submitted</span>
                                        </t>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <t t-call-assets="odoocms_web.assets_aarsol_portal" t-css="false"/>
                <script src="/odoocms_faculty_portal/static/js/custom.js"></script>
            </body>
        </t>
    </template>
</odoo>
